(()=>{"use strict";const e=function(e){let t=document.createElement(e.tag);if("attr"in e){let a=e.attr;for(let[e,n]of Object.entries(a))t.setAttribute(e,n)}return null!=e.classList&&t.classList.add(...e.classList),"text"in e&&(t.textContent=e.text),t},t=function(){const n=Object.keys(localStorage).reverse(),s=document.querySelector(".project-items");let c=document.querySelector(".selected");c=null===c||"Home"===c.id?"":c.textContent,s.innerHTML="",n.forEach((a=>{if("Home"===a)return;let n=e({tag:"div",classList:["project-item"]}),o=e({tag:"i",classList:["fa","fa-times","sm","remove-p-item"]}),r=e({tag:"div",classList:["project-name"],text:a});c===a&&r.classList.add("selected"),o.addEventListener("click",(e=>{localStorage.removeItem(a);let n=document.querySelector(".selected");n=n.textContent,n===a&&(document.querySelector(".main-container").innerHTML=""),t()})),n.append(r,o),s.appendChild(n)})),a()},a=function(){const t=document.querySelector("#projects"),a=document.querySelectorAll(".project-name"),c=document.querySelector("#home");c.addEventListener("click",n.bind(null,c)),a.forEach((e=>{e.addEventListener("click",n.bind(null,e))})),t.addEventListener("click",(t=>{document.querySelector(".overlay")||(container.appendChild(function(){const t=e({tag:"div",text:"Create New Project",classList:["p-form-heading"]}),a=e({tag:"input",attr:{type:"text",placeholder:"Project Name"},classList:["p-form-text"]}),n=e({tag:"div",classList:["p-form-buttons"]}),s=e({tag:"button",text:"Cancel",classList:["cancel-btn"]}),c=e({tag:"button",text:"Okay",classList:["submit-btn"]});s.addEventListener("click",(e=>{document.querySelector(".overlay").remove()})),n.append(s,c);const o=e({tag:"div",classList:["project-form"]});o.append(t,a,n);let r=e({tag:"div",classList:["overlay"]});return r.append(o),r}()),s())}))},n=function(e,t){let a=document.querySelector(".selected");e!==a&&(null!=a&&a.classList.remove("selected"),e.classList.add("selected"),"home"===e.id?o("Home"):o(e.textContent))},s=function(){document.querySelector(".submit-btn").addEventListener("click",c)};function c(e){let a=document.querySelector(".p-form-text").value;a=a.charAt(0).toUpperCase()+a.slice(1),""!==a?a.length>12?alert("Value too big"):(document.querySelector(".overlay").remove(),null===localStorage.getItem(a)?(localStorage.setItem(a,""),t()):alert("Project already exists.")):alert("Please enter a value")}const o=function(t){const a=document.querySelector(".main-container");if(null===localStorage.getItem(t))return void alert("Page does not exist.");a.innerHTML="";let n=e({tag:"div",classList:["header"]}),s=e({tag:"div",classList:["main-heading"],text:t}),c=e({tag:"button",text:"New Task",classList:["new-task-btn"]});c.addEventListener("click",r),n.append(s,c),a.appendChild(n)},r=function(){console.log("works")},l=function(){let t=e({tag:"div",classList:["nav-bar"]});return t.append(e({tag:"i",classList:["fa","fa-tasks","fa-3x"],attr:{"aria-hidden":"true"}}),e({tag:"div",classList:["nav-heading"],text:"To-Do"}),e({tag:"div",classList:["nav-side"],text:"Tasks and Notes"})),t},i=function(){let t=e({tag:"div",classList:["side-bar"]});return t.append(d("home","Home"),d("briefcase","Projects")),t},d=function(t,a){let n=e({tag:"div",attr:{id:a.toLowerCase()},classList:["side-item"]});if(n.append(e({tag:"i",classList:["fa",`fa-${t}`],attr:{"aria-hidden":"true"}}),e({tag:"span",text:a})),"Projects"===a){let t=e({tag:"div"});return t.append(n,e({tag:"div",classList:["project-items"]})),t}return n};!function(){const a=document.querySelector("#container");[l(),i(),e({tag:"div",classList:["main-container"]})].forEach((e=>{a.appendChild(e)})),document.querySelector("#home").classList.add("selected"),null===localStorage.getItem("Home")&&localStorage.setItem("Home",""),t(),o("Home")}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxTQUFTb0IsY0FBYyxTQUFTVixVQUFVQyxJQUFJLFlBQ1QsT0FBakNNLGFBQWEyQyxRQUFRLFNBQ3JCM0MsYUFBYTRDLFFBQVEsT0FBUSxJRmJqQy9DLElBQ0FzQyxFRWVXLFFDbkJmeUIsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLW9kaW4vLi9zcmMvbW9kdWxlcy9jcmVhdGVFbGVtZW50LmpzIiwid2VicGFjazovL3RvLWRvLW9kaW4vLi9zcmMvbW9kdWxlcy9yZWZyZXNoRE9NLmpzIiwid2VicGFjazovL3RvLWRvLW9kaW4vLi9zcmMvbW9kdWxlcy9wcm9qZWN0Rm9ybS5qcyIsIndlYnBhY2s6Ly90by1kby1vZGluLy4vc3JjL21vZHVsZXMvaW5pdGlhbGl6ZVBhZ2UuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tb2Rpbi8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG9iai50YWcpXG5cbiAgICBpZiAoXCJhdHRyXCIgaW4gb2JqKSB7XG4gICAgICAgIGxldCBhdHRyT2JqID0gb2JqLmF0dHJcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJPYmopKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvYmouY2xhc3NMaXN0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4ub2JqLmNsYXNzTGlzdClcbiAgICB9XG5cbiAgICBpZiAoXCJ0ZXh0XCIgaW4gb2JqKSB7XG4gICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBvYmoudGV4dFxuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50XG59XG5cbmV4cG9ydCB7XG4gICAgY3JlYXRlRWxlbWVudFxufSIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tIFwiLi9jcmVhdGVFbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBwcm9qZWN0Rm9ybSB9IGZyb20gXCIuL3Byb2plY3RGb3JtLmpzXCJcblxuY29uc3QgcmVmcmVzaERPTSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAvLyBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gY29uc29sZS5sb2coSlNPTi5wYXJzZShpdGVtKSkpXG4gICAgcmVmcmVzaFByb2plY3RzKCk7XG4gICAgbG9hZFBhZ2UobmFtZSk7XG59XG5cbmNvbnN0IHJlZnJlc2hQcm9qZWN0cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgY29uc3QgcHJvamVjdHMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLnJldmVyc2UoKTtcbiAgICBjb25zdCBwcm9qZWN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtaXRlbXNcIik7XG4gICAgbGV0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZFwiKTtcblxuICAgIGlmIChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZC5pZCA9PT0gXCJIb21lXCIpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBcIlwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBzZWxlY3RlZC50ZXh0Q29udGVudDtcbiAgICB9XG5cbiAgICBwcm9qZWN0SXRlbXMuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBwcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICBpZiggcHJvamVjdCA9PT0gXCJIb21lXCIpIHJldHVybjtcbiAgICAgICAgbGV0IHByb2plY3RJdGVtID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICAgICAgICBjbGFzc0xpc3Q6IFtcInByb2plY3QtaXRlbVwiXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHJlbW92ZUljb24gPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIHRhZzogXCJpXCIsXG4gICAgICAgICAgICBjbGFzc0xpc3Q6IFtcImZhXCIsIFwiZmEtdGltZXNcIiwgXCJzbVwiLCBcInJlbW92ZS1wLWl0ZW1cIl0sXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICAgICAgICBjbGFzc0xpc3Q6IFtcInByb2plY3QtbmFtZVwiXSxcbiAgICAgICAgICAgIHRleHQ6IHByb2plY3QsXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHNlbGVjdGVkID09PSBwcm9qZWN0KSB7XG4gICAgICAgICAgICBwcm9qZWN0TmFtZS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICByZW1vdmVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHByb2plY3QpO1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBzZWxlY3RlZC50ZXh0Q29udGVudFxuXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgPT09IHByb2plY3QpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGFpbmVyXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWZyZXNoUHJvamVjdHMoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHByb2plY3RJdGVtLmFwcGVuZCggcHJvamVjdE5hbWUsIHJlbW92ZUljb24pXG5cbiAgICAgICAgcHJvamVjdEl0ZW1zLmFwcGVuZENoaWxkKHByb2plY3RJdGVtKVxuICAgIH0pXG5cbiAgICBjaGFuZ2VQYWdlKCk7XG59XG5cbmNvbnN0IGNoYW5nZVBhZ2UgPSBmdW5jdGlvbigpIHtcblxuICAgIGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0c1wiKTtcbiAgICBjb25zdCBwcm9qZWN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtbmFtZVwiKTtcbiAgICBjb25zdCBob21lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNob21lXCIpO1xuXG4gICAgaG9tZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaXRlbVNlbGVjdGlvbi5iaW5kKG51bGwsIGhvbWUpKVxuXG4gICAgcHJvamVjdEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGl0ZW1TZWxlY3Rpb24uYmluZChudWxsLCBpdGVtKSl9KVxuXG4gICAgcHJvamVjdHMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vdmVybGF5XCIpKSByZXR1cm47XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0Rm9ybSgpKTtcbiAgICAgICAgYWRkUHJvamVjdCgpO1xuICAgIH0pXG59XG5cbmNvbnN0IGl0ZW1TZWxlY3Rpb24gPSBmdW5jdGlvbihpdGVtLCBlKSB7XG4gICAgbGV0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZFwiKTtcbiAgICBpZiAoaXRlbSA9PT0gc2VsZWN0ZWQpIHJldHVybjtcbiAgICBpZiAoc2VsZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XG4gICAgfVxuICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgIGlmIChpdGVtLmlkID09PSBcImhvbWVcIikge1xuICAgICAgICBsb2FkUGFnZShcIkhvbWVcIilcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxvYWRQYWdlKGl0ZW0udGV4dENvbnRlbnQpO1xuICAgIH1cbn1cblxuY29uc3QgYWRkUHJvamVjdCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0LWJ0blwiKTtcbiAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUZvcm0pXG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcm0oZSkge1xuXG4gICAgbGV0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnAtZm9ybS10ZXh0XCIpLnZhbHVlO1xuICAgIG5hbWUgPSBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKTtcbiAgICBpZiAobmFtZSA9PT0gXCJcIikge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBlbnRlciBhIHZhbHVlXCIpO1xuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgZWxzZSBpZiAobmFtZS5sZW5ndGggPiAxMikge1xuICAgICAgICBhbGVydChcIlZhbHVlIHRvbyBiaWdcIilcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vdmVybGF5XCIpLnJlbW92ZSgpO1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKSA9PT0gbnVsbCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYW1lLCBcIlwiKTtcbiAgICAgICAgcmVmcmVzaFByb2plY3RzKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhbGVydChcIlByb2plY3QgYWxyZWFkeSBleGlzdHMuXCIpO1xuICAgIH1cblxufVxuXG5jb25zdCBsb2FkUGFnZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250YWluZXJcIik7XG4gICAgbGV0IHBhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpZCk7XG4gICAgaWYgKHBhZ2UgPT09IG51bGwpIHtcbiAgICAgICAgYWxlcnQoXCJQYWdlIGRvZXMgbm90IGV4aXN0LlwiKTtcbiAgICAgICAgcmV0dXJuXG4gICAgfTtcblxuICAgIG1haW5Db250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgIGxldCBoZWFkZXIgPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdGFnOlwiZGl2XCIsXG4gICAgICAgIGNsYXNzTGlzdDogW1wiaGVhZGVyXCJdXG4gICAgfSlcblxuICAgIGxldCBoZWFkaW5nID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJtYWluLWhlYWRpbmdcIl0sXG4gICAgICAgIHRleHQ6IGlkLFxuICAgIH0pXG5cbiAgICBsZXQgYnV0dG9uID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJidXR0b25cIixcbiAgICAgICAgdGV4dDogXCJOZXcgVGFza1wiLFxuICAgICAgICBjbGFzc0xpc3Q6IFtcIm5ldy10YXNrLWJ0blwiXSxcbiAgICB9KTtcblxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlTmV3VGFzaylcbiAgICBoZWFkZXIuYXBwZW5kKCBoZWFkaW5nLCBidXR0b24pXG5cbiAgICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRlcilcblxuXG59XG5cbmNvbnN0IGNyZWF0ZU5ld1Rhc2sgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpXG59XG5cbmNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICB0aGlzLnRhc2tzID0gW107XG4gICAgfVxuXG4gICAgYXBwZW5kVGFza3ModGFzaykge1xuICAgICAgICB0YXNrcy5wdXNoKHRhc2spXG4gICAgfVxufVxuXG5jbGFzcyBUYXNrIHtcbiAgICBjb25zdHJ1Y3Rvcih0LCBkLCBkRGF0ZSwgcCkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdDtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGQ7XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGREYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcDtcbiAgICB9XG5cbiAgICBnZXQgdGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG5cbiAgICBzZXQgdGl0bGUodCkge1xuICAgICAgICB0aGlzLl90aXRsZSA9IHQ7XG4gICAgfVxuXG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgc2V0IGRlc2NyaXB0aW9uKGQpIHtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkO1xuICAgIH1cblxuICAgIGdldCBkdWVEYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHVlRGF0ZTtcbiAgICB9XG5cbiAgICBzZXQgZHVlRGF0ZShkRGF0ZSkge1xuICAgICAgICB0aGlzLl9kdWVEYXRlID0gZERhdGU7XG4gICAgfVxuXG4gICAgZ2V0IHByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJpb3JpdHk7XG4gICAgfVxuXG4gICAgc2V0IHByaW9yaXR5KHApIHtcbiAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSBwO1xuICAgIH1cbn1cblxuZXhwb3J0IHtyZWZyZXNoRE9NfSIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tIFwiLi9jcmVhdGVFbGVtZW50LmpzXCJcblxuY29uc3QgcHJvamVjdEZvcm0gPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBoZWFkaW5nID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgdGV4dDogXCJDcmVhdGUgTmV3IFByb2plY3RcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJwLWZvcm0taGVhZGluZ1wiXSwgXG4gICAgfSlcblxuICAgIGNvbnN0IHRleHRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICB0YWc6IFwiaW5wdXRcIixcbiAgICAgICAgYXR0cjp7XG4gICAgICAgICAgICB0eXBlIDogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJQcm9qZWN0IE5hbWVcIixcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJwLWZvcm0tdGV4dFwiXSwgXG4gICAgfSlcblxuICAgIGNvbnN0IGJ1dHRvbnMgPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBjbGFzc0xpc3Q6IFtcInAtZm9ybS1idXR0b25zXCJdLCBcbiAgICB9KVxuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJidXR0b25cIixcbiAgICAgICAgdGV4dDogXCJDYW5jZWxcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJjYW5jZWwtYnRuXCJdLCBcbiAgICB9KVxuXG4gICAgY29uc3Qgc3VibWl0QnRuID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJidXR0b25cIixcbiAgICAgICAgdGV4dDogXCJPa2F5XCIsXG4gICAgICAgIGNsYXNzTGlzdDogW1wic3VibWl0LWJ0blwiXSwgXG4gICAgfSlcblxuICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PntcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vdmVybGF5XCIpLnJlbW92ZSgpO1xuICAgIH0pXG4gICAgXG4gICAgYnV0dG9ucy5hcHBlbmQoIGNhbmNlbEJ0biwgc3VibWl0QnRuKVxuXG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBjbGFzc0xpc3Q6IFtcInByb2plY3QtZm9ybVwiXSwgXG4gICAgfSlcbiAgICBcbiAgICBwcm9qZWN0Rm9ybS5hcHBlbmQoaGVhZGluZywgdGV4dElucHV0LCBidXR0b25zKVxuXG4gICAgbGV0IG92ZXJsYXkgPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBjbGFzc0xpc3Q6IFtcIm92ZXJsYXlcIl0sIFxuICAgIH0pXG4gICAgXG4gICAgb3ZlcmxheS5hcHBlbmQocHJvamVjdEZvcm0pO1xuXG4gICAgcmV0dXJuIG92ZXJsYXk7XG59XG5cbmV4cG9ydCB7XG4gICAgcHJvamVjdEZvcm1cbn0iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSBcIi4vY3JlYXRlRWxlbWVudC5qc1wiXG5pbXBvcnQgeyByZWZyZXNoRE9NIH0gZnJvbSBcIi4vcmVmcmVzaERPTS5qc1wiXG5cblxuY29uc3QgaW5pdGlhbGl6ZVBhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lclwiKTtcbiAgICBjb25zdCBpdGVtcyA9IFtjcmVhdGVOYXZiYXIoKSwgY3JlYXRlU2lkZWJhcigpLCBcbiAgICAgICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJtYWluLWNvbnRhaW5lclwiXSxcbiAgICAgICAgfVxuICAgICldXG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgIH0pXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2hvbWVcIikuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkhvbWVcIikgPT09IG51bGwpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJIb21lXCIsIFwiXCIpXG4gICAgfVxuXG4gICAgcmVmcmVzaERPTShcIkhvbWVcIik7XG59O1xuXG5jb25zdCBjcmVhdGVOYXZiYXIgPSBmdW5jdGlvbigpIHtcbiAgICBsZXQgbmF2QmFyID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJuYXYtYmFyXCJdLFxuICAgIH0pXG4gICAgXG4gICAgbmF2QmFyLmFwcGVuZChcbiAgICAgICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0YWc6IFwiaVwiLFxuICAgICAgICAgICAgY2xhc3NMaXN0OiBbXCJmYVwiLCBcImZhLXRhc2tzXCIsIFwiZmEtM3hcIl0sXG4gICAgICAgICAgICBhdHRyOiB7XG4gICAgICAgICAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICAgICAgICBjbGFzc0xpc3Q6IFtcIm5hdi1oZWFkaW5nXCJdLFxuICAgICAgICAgICAgdGV4dDogXCJUby1Eb1wiXG4gICAgICAgIH0pLFxuICAgICAgICBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgICAgIGNsYXNzTGlzdDogW1wibmF2LXNpZGVcIl0sXG4gICAgICAgICAgICB0ZXh0OiBcIlRhc2tzIGFuZCBOb3Rlc1wiXG4gICAgICAgIH0pXG4gICAgKTtcblxuICAgIHJldHVybiBuYXZCYXI7XG59XG5cblxuY29uc3QgY3JlYXRlU2lkZWJhciA9IGZ1bmN0aW9uKCkge1xuICAgIGxldCBzaWRlQmFyID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJzaWRlLWJhclwiXSxcbiAgICB9KVxuXG4gICAgc2lkZUJhci5hcHBlbmQoXG4gICAgICAgIGNyZWF0ZVNpZGVJdGVtKFwiaG9tZVwiLCBcIkhvbWVcIiksIFxuICAgICAgICBjcmVhdGVTaWRlSXRlbShcImJyaWVmY2FzZVwiLCBcIlByb2plY3RzXCIpLCBcbiAgICApXG5cbiAgICByZXR1cm4gc2lkZUJhcjtcbn1cblxuY29uc3QgY3JlYXRlU2lkZUl0ZW0gPSBmdW5jdGlvbihpY29uLCB0ZXh0KSB7XG5cbiAgICBsZXQgc2lkZUl0ZW0gPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBhdHRyOiB7XG4gICAgICAgICAgICBpZDogdGV4dC50b0xvd2VyQ2FzZSgpXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTGlzdDogW1wic2lkZS1pdGVtXCJdLFxuICAgIH0pXG5cbiAgICBzaWRlSXRlbS5hcHBlbmQoY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJpXCIsXG4gICAgICAgIGNsYXNzTGlzdDogW1wiZmFcIiwgYGZhLSR7aWNvbn1gXSxcbiAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgICAgICB9XG4gICAgfSksXG4gICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJzcGFuXCIsXG4gICAgICAgIHRleHQ6IHRleHRcbiAgICB9KSlcblxuICAgIGlmICh0ZXh0ID09PSBcIlByb2plY3RzXCIpIHtcbiAgICAgICAgbGV0IGRpdiA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgZGl2LmFwcGVuZChzaWRlSXRlbSwgY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICAgICAgICBjbGFzc0xpc3Q6IFtcInByb2plY3QtaXRlbXNcIl1cbiAgICAgICAgfSkpXG5cbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2lkZUl0ZW1cbn1cblxuZXhwb3J0IHtpbml0aWFsaXplUGFnZX0iLCJpbXBvcnQgeyBpbml0aWFsaXplUGFnZSB9IGZyb20gXCIuL21vZHVsZXMvaW5pdGlhbGl6ZVBhZ2UuanNcIlxuXG5pbml0aWFsaXplUGFnZSgpO1xuXG4iXSwibmFtZXMiOlsiY3JlYXRlRWxlbWVudCIsIm9iaiIsImVsZW1lbnQiLCJkb2N1bWVudCIsInRhZyIsImF0dHJPYmoiLCJhdHRyIiwia2V5IiwidmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwic2V0QXR0cmlidXRlIiwidW5kZWZpbmVkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ0ZXh0IiwicmVmcmVzaFByb2plY3RzIiwicHJvamVjdHMiLCJrZXlzIiwibG9jYWxTdG9yYWdlIiwicmV2ZXJzZSIsInByb2plY3RJdGVtcyIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxlY3RlZCIsImlkIiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsInByb2plY3QiLCJwcm9qZWN0SXRlbSIsInJlbW92ZUljb24iLCJwcm9qZWN0TmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicmVtb3ZlSXRlbSIsImFwcGVuZCIsImFwcGVuZENoaWxkIiwiY2hhbmdlUGFnZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJob21lIiwiaXRlbVNlbGVjdGlvbiIsImJpbmQiLCJpdGVtIiwiY29udGFpbmVyIiwiaGVhZGluZyIsInRleHRJbnB1dCIsInR5cGUiLCJwbGFjZWhvbGRlciIsImJ1dHRvbnMiLCJjYW5jZWxCdG4iLCJzdWJtaXRCdG4iLCJyZW1vdmUiLCJwcm9qZWN0Rm9ybSIsIm92ZXJsYXkiLCJhZGRQcm9qZWN0IiwibG9hZFBhZ2UiLCJoYW5kbGVGb3JtIiwibmFtZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJsZW5ndGgiLCJhbGVydCIsImdldEl0ZW0iLCJzZXRJdGVtIiwibWFpbkNvbnRhaW5lciIsImhlYWRlciIsImJ1dHRvbiIsImNyZWF0ZU5ld1Rhc2siLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlTmF2YmFyIiwibmF2QmFyIiwiY3JlYXRlU2lkZWJhciIsInNpZGVCYXIiLCJjcmVhdGVTaWRlSXRlbSIsImljb24iLCJzaWRlSXRlbSIsInRvTG93ZXJDYXNlIiwiZGl2IiwiaW5pdGlhbGl6ZVBhZ2UiXSwic291cmNlUm9vdCI6IiJ9