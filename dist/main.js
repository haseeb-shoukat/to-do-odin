(()=>{"use strict";const t=function(t){let e=document.createElement(t.tag);if("attr"in t){let a=t.attr;for(let[t,s]of Object.entries(a))e.setAttribute(t,s)}return null!=t.classList&&e.classList.add(...t.classList),"text"in t&&(e.textContent=t.text),e},e=function(){const s=Object.keys(localStorage).reverse(),n=document.querySelector(".project-items");let i=document.querySelector(".selected");i=null===i||"Home"===i.id?"":i.textContent,n.innerHTML="",s.forEach((a=>{if("Home"===a)return;let s=t({tag:"div",classList:["project-item"]}),l=t({tag:"i",classList:["fa","fa-times","sm","remove-p-item"]}),o=t({tag:"div",classList:["project-name"],text:a});i===a&&o.classList.add("selected"),l.addEventListener("click",(t=>{localStorage.removeItem(a);let s=document.querySelector(".selected");s=s.textContent,s===a&&(document.querySelector(".main-container").innerHTML=""),e()})),s.append(o,l),n.appendChild(s)})),a()},a=function(){const e=document.querySelector("#projects"),a=document.querySelectorAll(".project-name"),i=document.querySelector("#home");i.addEventListener("click",s.bind(null,i)),a.forEach((t=>{t.addEventListener("click",s.bind(null,t))})),e.addEventListener("click",(e=>{document.querySelector(".overlay")||(container.appendChild(function(){const e=t({tag:"div",classList:["p-form-buttons"]}),a=t({tag:"button",text:"Cancel",classList:["cancel-btn"]});a.addEventListener("click",(t=>{document.querySelector(".overlay").remove()})),e.append(a,t({tag:"button",text:"Okay",classList:["submit-btn"]}));const s=t({tag:"div",classList:["project-form"]});s.append(t({tag:"div",text:"Create New Project",classList:["p-form-heading"]}),t({tag:"input",attr:{type:"text",placeholder:"Project Name"},classList:["p-form-text"]}),e);let n=t({tag:"div",classList:["overlay"]});return n.append(s),n}()),n())}))},s=function(t,e){let a=document.querySelector(".selected");t!==a&&(null!=a&&a.classList.remove("selected"),t.classList.add("selected"),"home"===t.id?l("Home"):l(t.textContent))},n=function(){document.querySelector(".submit-btn").addEventListener("click",i)};function i(t){let a=document.querySelector(".p-form-text").value;a=a.charAt(0).toUpperCase()+a.slice(1),""!==a?a.length>12?alert("Value too big"):(document.querySelector(".overlay").remove(),null===localStorage.getItem(a)?(localStorage.setItem(a,JSON.stringify([])),e()):alert("Project already exists.")):alert("Please enter a value")}const l=function(e){const a=document.querySelector(".main-container");let s=JSON.parse(localStorage.getItem(e));if(null===s)return void alert("Page does not exist.");a.innerHTML="";let n=t({tag:"div",classList:["header"]}),i=t({tag:"div",classList:["main-heading"],text:e}),l=t({tag:"button",text:"New Task",classList:["new-task-btn"]});l.addEventListener("click",d),n.append(i,l),a.appendChild(n),o(s,a),r(e,s)},o=function(e,a){a.appendChild(function(e){let a=t({tag:"div",class:"tasks-container"});return e.forEach((e=>{let s=e.priority,n="";n="low"===s?"task-blue":"medium"===s?"task-yellow":"task-red";const i=t({tag:"div",classList:[n,"task"]});i.append(t({tag:"div",classList:["task-title"],text:e.title}),t({tag:"div",classList:["task-due-date"],text:e.dueDate}),t({tag:"i",classList:["fa","fa-times","sm","remove-task"]}));const l=t({tag:"div",classList:["hidden"]}),o=t({tag:"div",classList:["task-description"]});o.innerHTML=`<span class="bold">Details:</span> ${e.description}`;const r=t({tag:"div",classList:["task-priority"]});r.innerHTML=`<span class="bold">Priority:</span> ${e.priority}`;const c=t({tag:"button",classList:["edit-task"],text:"Edit Details"});l.append(o,r,c),a.append(i,l)})),a}(e)),c()},r=function(t,e){document.querySelectorAll(".remove-task").forEach((a=>{a.addEventListener("click",(s=>{e.splice(parseInt(a.parentElement.id),1),localStorage.setItem(t,JSON.stringify(e)),l(t)}))}))},c=function(){var t,e=document.getElementsByClassName("task");for(t=0;t<e.length;t++)e[t].addEventListener("click",(function(){this.classList.toggle("active");var t=this.nextElementSibling;"block"===t.style.display?t.style.display="none":t.style.display="block"}))},d=function(){container.appendChild(function(){const e=t({tag:"div",classList:["t-form-buttons"]}),a=t({tag:"button",text:"Cancel",classList:["cancel-btn","b"]});a.addEventListener("click",(t=>{document.querySelector(".overlay").remove()})),e.append(a,t({tag:"button",text:"Create",attr:{for:"task-form"},classList:["t-submit-btn","b"]}));const s=t({tag:"div",classList:["task-form"]}),n=t({tag:"label",text:"Title:"});n.append(t({tag:"input",attr:{type:"text",required:"",name:"title"},classList:["t-title"]}));const i=t({tag:"label",text:"Description:"});i.append(t({tag:"textarea",attr:{rows:"4",name:"description"},classList:["t-description"]}));const l=t({tag:"label",classList:["m"]});l.innerHTML='Priority:\n   <input id="low" type="radio" name="priority" value="low" checked>\n   <label class="r" for="low">Low</label>\n   <input id="medium" type="radio" name="priority" value="medium">\n   <label class="r" for="medium">Medium</label>\n   <input id="high" type="radio" name="priority" value="high">\n   <label class="r" for="high">High</label>';const o=t({tag:"label",text:"Due Date:",classList:["m"]});o.append(t({tag:"input",attr:{type:"date",required:"",name:"dueDate"}}));const r=t({tag:"form",classList:["t-content"],attr:{id:"task-form",action:" ",method:"post"}});r.append(n,i,l,o,e),s.append(t({tag:"div",text:"Create a new task:",classList:["t-form-heading"]}),r);let c=t({tag:"div",classList:["overlay"]});return c.append(s),c}()),document.querySelector(".t-content").addEventListener("submit",(t=>{t.preventDefault(),document.querySelector(".overlay").remove();let e=document.querySelector(".selected");e="Home"===e.id?"Home":e.textContent;const a=localStorage.getItem(e),s=Object.fromEntries(new FormData(t.target).entries());if(null===a)return void alert("Project does not exist.");let n=JSON.parse(a);n.push(s),localStorage.setItem(e,JSON.stringify(n)),l(e)}))},u=function(){let e=t({tag:"div",classList:["nav-bar"]});return e.append(t({tag:"i",classList:["fa","fa-tasks","fa-3x"],attr:{"aria-hidden":"true"}}),t({tag:"div",classList:["nav-heading"],text:"To-Do"}),t({tag:"div",classList:["nav-side"],text:"Tasks and Notes"})),e},m=function(){let e=t({tag:"div",classList:["side-bar"]});return e.append(p("home","Home"),p("briefcase","Projects")),e},p=function(e,a){let s=t({tag:"div",attr:{id:a.toLowerCase()},classList:["side-item"]});if(s.append(t({tag:"i",classList:["fa",`fa-${e}`],attr:{"aria-hidden":"true"}}),t({tag:"span",text:a})),"Projects"===a){let e=t({tag:"div"});return e.append(s,t({tag:"div",classList:["project-items"]})),e}return s};!function(){const a=document.querySelector("#container");[u(),m(),t({tag:"div",classList:["main-container"]})].forEach((t=>{a.appendChild(t)})),document.querySelector("#home").classList.add("selected"),null===localStorage.getItem("Home")&&localStorage.setItem("Home",JSON.stringify([])),e(),l("Home")}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WXhDLFNBQVNvQixjQUFjLGNBQzNCLENBQ1o0RixJQUNBRSxJQUNBckgsRUFBYyxDQUNaSSxJQUFLLE1BQ0xTLFVBQVcsQ0FBQyxxQkFHVmMsU0FBU2UsSUFDYkMsRUFBVVAsWUFBWU0sTUFHeEJ2QyxTQUFTb0IsY0FBYyxTQUFTVixVQUFVQyxJQUFJLFlBQ1QsT0FBakNNLGFBQWF3QyxRQUFRLFNBQ3ZCeEMsYUFBYXlDLFFBQVEsT0FBUUMsS0FBS0MsVUFBVSxLRmY5QzlDLElBQ0FtQyxFRWlCVyxRQ3BCYndFLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90by1kby1vZGluLy4vc3JjL21vZHVsZXMvY3JlYXRlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly90by1kby1vZGluLy4vc3JjL21vZHVsZXMvcmVmcmVzaERPTS5qcyIsIndlYnBhY2s6Ly90by1kby1vZGluLy4vc3JjL21vZHVsZXMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tb2Rpbi8uL3NyYy9tb2R1bGVzL2luaXRpYWxpemVQYWdlLmpzIiwid2VicGFjazovL3RvLWRvLW9kaW4vLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG9iai50YWcpO1xuXG4gIGlmIChcImF0dHJcIiBpbiBvYmopIHtcbiAgICBsZXQgYXR0ck9iaiA9IG9iai5hdHRyO1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyT2JqKSkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG9iai5jbGFzc0xpc3QgIT0gdW5kZWZpbmVkKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLm9iai5jbGFzc0xpc3QpO1xuICB9XG5cbiAgaWYgKFwidGV4dFwiIGluIG9iaikge1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBvYmoudGV4dDtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuLy8gY29uc3QgY3JlYXRlVGFza3MgPSBmdW5jdGlvbiAodGFza3MpIHtcbi8vICAgbGV0IHRhc2tzSG9sZGVyID0gY3JlYXRlRWxlbWVudCh7XG4vLyAgICAgdGFnOiBcImRpdlwiLFxuLy8gICAgIGNsYXNzOiBcInRhc2tzLWNvbnRhaW5lclwiLFxuLy8gICB9KTtcblxuLy8gICBsZXQgaXRlbXMgPSBcIlwiO1xuLy8gICBsZXQgaSA9IDA7XG4vLyAgIHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcbi8vICAgICBsZXQgcCA9IHRhc2sucHJpb3JpdHk7XG4vLyAgICAgbGV0IGNvbG9yID0gXCJcIjtcblxuLy8gICAgIGlmIChwID09PSBcImxvd1wiKSB7XG4vLyAgICAgICBjb2xvciA9IFwidGFzay1ibHVlXCI7XG4vLyAgICAgfSBlbHNlIGlmIChwID09PSBcIm1lZGl1bVwiKSB7XG4vLyAgICAgICBjb2xvciA9IFwidGFzay15ZWxsb3dcIjtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgY29sb3IgPSBcInRhc2stcmVkXCI7XG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3QgaXRlbSA9IGA8ZGl2IGlkPVwiJHtpfVwiIGNsYXNzPVwiJHtjb2xvcn0gdGFza1wiPlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhc2stdGl0bGVcIj4ke3Rhc2sudGl0bGV9PC9kaXY+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFzay1kdWUtZGF0ZVwiPiR7dGFzay5kdWVEYXRlfTwvZGl2PlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS10aW1lcyBzbSByZW1vdmUtdGFza1wiPjwvaT5cbi8vICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4vLyAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoaWRkZW5cIj5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YXNrLWRlc2NyaXB0aW9uXCI+PHNwYW4gY2xhc3M9XCJib2xkXCI+RGV0YWlsczo8L3NwYW4+ICR7dGFzay5kZXNjcmlwdGlvbn08L2Rpdj5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YXNrLXByaW9yaXR5XCI+PHNwYW4gY2xhc3M9XCJib2xkXCI+UHJpb3JpdHk6PC9zcGFuPiAke3Rhc2sucHJpb3JpdHl9PC9kaXY+XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrXCI+RWRpdCBEZXRhaWxzPC9idXR0b24+XG4vLyAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4vLyAgICAgaXRlbXMgKz0gaXRlbTtcbi8vICAgICBpICs9IDE7XG4vLyAgIH0pO1xuLy8gICB0YXNrc0hvbGRlci5pbm5lckhUTUwgPSBpdGVtcztcbi8vICAgcmV0dXJuIHRhc2tzSG9sZGVyO1xuLy8gfTtcblxuXG5jb25zdCBjcmVhdGVUYXNrcyA9IGZ1bmN0aW9uICh0YXNrcykge1xuICAgIGxldCB0YXNrc0hvbGRlciA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgY2xhc3M6IFwidGFza3MtY29udGFpbmVyXCIsXG4gICAgfSk7XG5cbiAgICB0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICBsZXQgcCA9IHRhc2sucHJpb3JpdHk7XG4gICAgICBsZXQgY29sb3IgPSBcIlwiO1xuICBcbiAgICAgIGlmIChwID09PSBcImxvd1wiKSB7XG4gICAgICAgIGNvbG9yID0gXCJ0YXNrLWJsdWVcIjtcbiAgICAgIH0gZWxzZSBpZiAocCA9PT0gXCJtZWRpdW1cIikge1xuICAgICAgICBjb2xvciA9IFwidGFzay15ZWxsb3dcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbG9yID0gXCJ0YXNrLXJlZFwiO1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHZpc2libGUgPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBjbGFzc0xpc3Q6IFtjb2xvciwgXCJ0YXNrXCJdXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgdmlzaWJsZS5hcHBlbmQoY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJ0YXNrLXRpdGxlXCJdLFxuICAgICAgICB0ZXh0OiB0YXNrLnRpdGxlLFxuICAgICAgfSksIGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICAgIGNsYXNzTGlzdDogW1widGFzay1kdWUtZGF0ZVwiXSxcbiAgICAgICAgdGV4dDogdGFzay5kdWVEYXRlLFxuICAgICAgfSksIGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICB0YWc6IFwiaVwiLFxuICAgICAgICBjbGFzc0xpc3Q6IFtcImZhXCIsIFwiZmEtdGltZXNcIiwgXCJzbVwiLCBcInJlbW92ZS10YXNrXCJdXG4gICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICBjb25zdCBoaWRkZW4gPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBjbGFzc0xpc3Q6IFtcImhpZGRlblwiXVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJ0YXNrLWRlc2NyaXB0aW9uXCJdXG4gICAgICB9KTtcblxuICAgICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiYm9sZFwiPkRldGFpbHM6PC9zcGFuPiAke3Rhc2suZGVzY3JpcHRpb259YFxuXG4gICAgICBjb25zdCBwcmlvcml0eSA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICAgIGNsYXNzTGlzdDogW1widGFzay1wcmlvcml0eVwiXVxuICAgICAgfSk7XG5cbiAgICAgIHByaW9yaXR5LmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cImJvbGRcIj5Qcmlvcml0eTo8L3NwYW4+ICR7dGFzay5wcmlvcml0eX1gXG5cbiAgICAgIGNvbnN0IGVkaXRCdG4gPSBjcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdGFnOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc0xpc3Q6IFtcImVkaXQtdGFza1wiXSxcbiAgICAgICAgdGV4dDogXCJFZGl0IERldGFpbHNcIlxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGhpZGRlbi5hcHBlbmQoZGVzY3JpcHRpb24sIHByaW9yaXR5LCBlZGl0QnRuKTtcblxuICAgICAgdGFza3NIb2xkZXIuYXBwZW5kKHZpc2libGUsIGhpZGRlbik7XG4gICAgfSk7XG4gIFxuICAgIHJldHVybiB0YXNrc0hvbGRlcjtcbiAgfTtcblxuZXhwb3J0IHsgY3JlYXRlRWxlbWVudCwgY3JlYXRlVGFza3MgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGNyZWF0ZVRhc2tzIH0gZnJvbSBcIi4vY3JlYXRlRWxlbWVudC5qc1wiO1xuaW1wb3J0IHsgcHJvamVjdEZvcm0sIHRhc2tGb3JtIH0gZnJvbSBcIi4vcHJvamVjdEZvcm0uanNcIjtcblxuY29uc3QgcmVmcmVzaERPTSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJlZnJlc2hQcm9qZWN0cygpO1xuICBsb2FkUGFnZShuYW1lKTtcbn07XG5cbmNvbnN0IHJlZnJlc2hQcm9qZWN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcHJvamVjdHMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLnJldmVyc2UoKTtcbiAgY29uc3QgcHJvamVjdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWl0ZW1zXCIpO1xuICBsZXQgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdGVkXCIpO1xuXG4gIGlmIChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZC5pZCA9PT0gXCJIb21lXCIpIHtcbiAgICBzZWxlY3RlZCA9IFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgc2VsZWN0ZWQgPSBzZWxlY3RlZC50ZXh0Q29udGVudDtcbiAgfVxuXG4gIHByb2plY3RJdGVtcy5pbm5lckhUTUwgPSBcIlwiO1xuICBwcm9qZWN0cy5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgaWYgKHByb2plY3QgPT09IFwiSG9tZVwiKSByZXR1cm47XG4gICAgbGV0IHByb2plY3RJdGVtID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICBjbGFzc0xpc3Q6IFtcInByb2plY3QtaXRlbVwiXSxcbiAgICB9KTtcblxuICAgIGxldCByZW1vdmVJY29uID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICB0YWc6IFwiaVwiLFxuICAgICAgY2xhc3NMaXN0OiBbXCJmYVwiLCBcImZhLXRpbWVzXCIsIFwic21cIiwgXCJyZW1vdmUtcC1pdGVtXCJdLFxuICAgIH0pO1xuXG4gICAgbGV0IHByb2plY3ROYW1lID0gY3JlYXRlRWxlbWVudCh7XG4gICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICBjbGFzc0xpc3Q6IFtcInByb2plY3QtbmFtZVwiXSxcbiAgICAgIHRleHQ6IHByb2plY3QsXG4gICAgfSk7XG5cbiAgICBpZiAoc2VsZWN0ZWQgPT09IHByb2plY3QpIHtcbiAgICAgIHByb2plY3ROYW1lLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgICB9XG5cbiAgICByZW1vdmVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvamVjdCk7XG4gICAgICBsZXQgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdGVkXCIpO1xuXG4gICAgICBzZWxlY3RlZCA9IHNlbGVjdGVkLnRleHRDb250ZW50O1xuXG4gICAgICBpZiAoc2VsZWN0ZWQgPT09IHByb2plY3QpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgfVxuICAgICAgcmVmcmVzaFByb2plY3RzKCk7XG4gICAgfSk7XG5cbiAgICBwcm9qZWN0SXRlbS5hcHBlbmQocHJvamVjdE5hbWUsIHJlbW92ZUljb24pO1xuXG4gICAgcHJvamVjdEl0ZW1zLmFwcGVuZENoaWxkKHByb2plY3RJdGVtKTtcbiAgfSk7XG5cbiAgY2hhbmdlUGFnZSgpO1xufTtcblxuY29uc3QgY2hhbmdlUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RzXCIpO1xuICBjb25zdCBwcm9qZWN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtbmFtZVwiKTtcbiAgY29uc3QgaG9tZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaG9tZVwiKTtcblxuICBob21lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBpdGVtU2VsZWN0aW9uLmJpbmQobnVsbCwgaG9tZSkpO1xuXG4gIHByb2plY3RJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaXRlbVNlbGVjdGlvbi5iaW5kKG51bGwsIGl0ZW0pKTtcbiAgfSk7XG5cbiAgcHJvamVjdHMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheVwiKSkgcmV0dXJuO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0Rm9ybSgpKTtcbiAgICBhZGRQcm9qZWN0KCk7XG4gIH0pO1xufTtcblxuY29uc3QgaXRlbVNlbGVjdGlvbiA9IGZ1bmN0aW9uIChpdGVtLCBlKSB7XG4gIGxldCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWRcIik7XG4gIGlmIChpdGVtID09PSBzZWxlY3RlZCkgcmV0dXJuO1xuICBpZiAoc2VsZWN0ZWQgIT0gbnVsbCkge1xuICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcbiAgfVxuICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgaWYgKGl0ZW0uaWQgPT09IFwiaG9tZVwiKSB7XG4gICAgbG9hZFBhZ2UoXCJIb21lXCIpO1xuICB9IGVsc2Uge1xuICAgIGxvYWRQYWdlKGl0ZW0udGV4dENvbnRlbnQpO1xuICB9XG59O1xuXG5jb25zdCBhZGRQcm9qZWN0ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1idG5cIik7XG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRm9ybSk7XG59O1xuXG5mdW5jdGlvbiBoYW5kbGVGb3JtKGUpIHtcbiAgbGV0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnAtZm9ybS10ZXh0XCIpLnZhbHVlO1xuICBuYW1lID0gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG4gIGlmIChuYW1lID09PSBcIlwiKSB7XG4gICAgYWxlcnQoXCJQbGVhc2UgZW50ZXIgYSB2YWx1ZVwiKTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAobmFtZS5sZW5ndGggPiAxMikge1xuICAgIGFsZXJ0KFwiVmFsdWUgdG9vIGJpZ1wiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm92ZXJsYXlcIikucmVtb3ZlKCk7XG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKSA9PT0gbnVsbCkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIEpTT04uc3RyaW5naWZ5KFtdKSk7XG4gICAgcmVmcmVzaFByb2plY3RzKCk7XG4gIH0gZWxzZSB7XG4gICAgYWxlcnQoXCJQcm9qZWN0IGFscmVhZHkgZXhpc3RzLlwiKTtcbiAgfVxufVxuXG5jb25zdCBsb2FkUGFnZSA9IGZ1bmN0aW9uIChpZCkge1xuICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcbiAgbGV0IHBhZ2UgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGlkKSk7XG4gIGlmIChwYWdlID09PSBudWxsKSB7XG4gICAgYWxlcnQoXCJQYWdlIGRvZXMgbm90IGV4aXN0LlwiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBtYWluQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgbGV0IGhlYWRlciA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgIHRhZzogXCJkaXZcIixcbiAgICBjbGFzc0xpc3Q6IFtcImhlYWRlclwiXSxcbiAgfSk7XG5cbiAgbGV0IGhlYWRpbmcgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiZGl2XCIsXG4gICAgY2xhc3NMaXN0OiBbXCJtYWluLWhlYWRpbmdcIl0sXG4gICAgdGV4dDogaWQsXG4gIH0pO1xuXG4gIGxldCBidXR0b24gPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiYnV0dG9uXCIsXG4gICAgdGV4dDogXCJOZXcgVGFza1wiLFxuICAgIGNsYXNzTGlzdDogW1wibmV3LXRhc2stYnRuXCJdLFxuICB9KTtcblxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNyZWF0ZU5ld1Rhc2spO1xuICBoZWFkZXIuYXBwZW5kKGhlYWRpbmcsIGJ1dHRvbik7XG5cbiAgbWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICBsb2FkVGFza3MocGFnZSwgbWFpbkNvbnRhaW5lcik7XG4gIHJlbW92ZVRhc2tzKGlkLCBwYWdlKTtcbn07XG5cbmNvbnN0IGxvYWRUYXNrcyA9IGZ1bmN0aW9uIChlbGVtZW50cywgbWFpbkNvbnRhaW5lcikge1xuICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVRhc2tzKGVsZW1lbnRzKSk7XG4gIGNvbGxhcHNlKCk7XG59O1xuXG5jb25zdCByZW1vdmVUYXNrcyA9IGZ1bmN0aW9uIChpZCwgZWxlbWVudHMpIHtcbiAgY29uc3QgcmVtb3ZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZW1vdmUtdGFza1wiKTtcbiAgcmVtb3ZlQnRuLmZvckVhY2goKGJ0bikgPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGVsZW1lbnRzLnNwbGljZShwYXJzZUludChidG4ucGFyZW50RWxlbWVudC5pZCksIDEpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaWQsIEpTT04uc3RyaW5naWZ5KGVsZW1lbnRzKSk7XG4gICAgICBsb2FkUGFnZShpZCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuY29uc3QgY29sbGFwc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjb2xsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRhc2tcIik7XG4gIHZhciBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBjb2xsLmxlbmd0aDsgaSsrKSB7XG4gICAgY29sbFtpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLm5leHRFbGVtZW50U2libGluZztcbiAgICAgIGlmIChjb250ZW50LnN0eWxlLmRpc3BsYXkgPT09IFwiYmxvY2tcIikge1xuICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuY29uc3QgY3JlYXRlTmV3VGFzayA9IGZ1bmN0aW9uICgpIHtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tGb3JtKCkpO1xuICBjb25zdCB0YXNrQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudC1jb250ZW50XCIpO1xuICB0YXNrQ29udGVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheVwiKS5yZW1vdmUoKTtcbiAgICBsZXQga2V5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZFwiKTtcblxuICAgIGlmIChrZXkuaWQgPT09IFwiSG9tZVwiKSB7XG4gICAgICBrZXkgPSBcIkhvbWVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0ga2V5LnRleHRDb250ZW50O1xuICAgIH1cblxuICAgIGNvbnN0IHByb2plY3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gT2JqZWN0LmZyb21FbnRyaWVzKG5ldyBGb3JtRGF0YShlLnRhcmdldCkuZW50cmllcygpKTtcblxuICAgIGlmIChwcm9qZWN0ID09PSBudWxsKSB7XG4gICAgICBhbGVydChcIlByb2plY3QgZG9lcyBub3QgZXhpc3QuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB0YXNrcyA9IEpTT04ucGFyc2UocHJvamVjdCk7XG4gICAgdGFza3MucHVzaChmb3JtRGF0YSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh0YXNrcykpO1xuICAgIGxvYWRQYWdlKGtleSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgcmVmcmVzaERPTSB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gXCIuL2NyZWF0ZUVsZW1lbnQuanNcIjtcblxuY29uc3QgcHJvamVjdEZvcm0gPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGJ1dHRvbnMgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiZGl2XCIsXG4gICAgY2xhc3NMaXN0OiBbXCJwLWZvcm0tYnV0dG9uc1wiXSxcbiAgfSk7XG5cbiAgY29uc3QgY2FuY2VsQnRuID0gY3JlYXRlRWxlbWVudCh7XG4gICAgdGFnOiBcImJ1dHRvblwiLFxuICAgIHRleHQ6IFwiQ2FuY2VsXCIsXG4gICAgY2xhc3NMaXN0OiBbXCJjYW5jZWwtYnRuXCJdLFxuICB9KTtcblxuICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vdmVybGF5XCIpLnJlbW92ZSgpO1xuICB9KTtcblxuICBidXR0b25zLmFwcGVuZChcbiAgICBjYW5jZWxCdG4sXG4gICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICB0YWc6IFwiYnV0dG9uXCIsXG4gICAgICB0ZXh0OiBcIk9rYXlcIixcbiAgICAgIGNsYXNzTGlzdDogW1wic3VibWl0LWJ0blwiXSxcbiAgICB9KVxuICApO1xuXG4gIGNvbnN0IHByb2plY3RGb3JtID0gY3JlYXRlRWxlbWVudCh7XG4gICAgdGFnOiBcImRpdlwiLFxuICAgIGNsYXNzTGlzdDogW1wicHJvamVjdC1mb3JtXCJdLFxuICB9KTtcblxuICBwcm9qZWN0Rm9ybS5hcHBlbmQoXG4gICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICB0ZXh0OiBcIkNyZWF0ZSBOZXcgUHJvamVjdFwiLFxuICAgICAgY2xhc3NMaXN0OiBbXCJwLWZvcm0taGVhZGluZ1wiXSxcbiAgICB9KSxcblxuICAgIGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgdGFnOiBcImlucHV0XCIsXG4gICAgICBhdHRyOiB7XG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJQcm9qZWN0IE5hbWVcIixcbiAgICAgIH0sXG4gICAgICBjbGFzc0xpc3Q6IFtcInAtZm9ybS10ZXh0XCJdLFxuICAgIH0pLFxuICAgIGJ1dHRvbnNcbiAgKTtcblxuICBsZXQgb3ZlcmxheSA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgIHRhZzogXCJkaXZcIixcbiAgICBjbGFzc0xpc3Q6IFtcIm92ZXJsYXlcIl0sXG4gIH0pO1xuXG4gIG92ZXJsYXkuYXBwZW5kKHByb2plY3RGb3JtKTtcblxuICByZXR1cm4gb3ZlcmxheTtcbn07XG5cbmNvbnN0IHRhc2tGb3JtID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBidXR0b25zID0gY3JlYXRlRWxlbWVudCh7XG4gICAgdGFnOiBcImRpdlwiLFxuICAgIGNsYXNzTGlzdDogW1widC1mb3JtLWJ1dHRvbnNcIl0sXG4gIH0pO1xuXG4gIGNvbnN0IGNhbmNlbEJ0biA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgIHRhZzogXCJidXR0b25cIixcbiAgICB0ZXh0OiBcIkNhbmNlbFwiLFxuICAgIGNsYXNzTGlzdDogW1wiY2FuY2VsLWJ0blwiLCBcImJcIl0sXG4gIH0pO1xuXG4gIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm92ZXJsYXlcIikucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIGJ1dHRvbnMuYXBwZW5kKFxuICAgIGNhbmNlbEJ0bixcbiAgICBjcmVhdGVFbGVtZW50KHtcbiAgICAgIHRhZzogXCJidXR0b25cIixcbiAgICAgIHRleHQ6IFwiQ3JlYXRlXCIsXG4gICAgICBhdHRyOiB7IGZvcjogXCJ0YXNrLWZvcm1cIiB9LFxuICAgICAgY2xhc3NMaXN0OiBbXCJ0LXN1Ym1pdC1idG5cIiwgXCJiXCJdLFxuICAgIH0pXG4gICk7XG5cbiAgY29uc3QgdGFza0Zvcm0gPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiZGl2XCIsXG4gICAgY2xhc3NMaXN0OiBbXCJ0YXNrLWZvcm1cIl0sXG4gIH0pO1xuXG4gIGNvbnN0IHRpdGxlID0gY3JlYXRlRWxlbWVudCh7XG4gICAgdGFnOiBcImxhYmVsXCIsXG4gICAgdGV4dDogXCJUaXRsZTpcIixcbiAgfSk7XG5cbiAgdGl0bGUuYXBwZW5kKFxuICAgIGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgdGFnOiBcImlucHV0XCIsXG4gICAgICBhdHRyOiB7XG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICByZXF1aXJlZDogXCJcIixcbiAgICAgICAgbmFtZTogXCJ0aXRsZVwiLFxuICAgICAgfSxcbiAgICAgIGNsYXNzTGlzdDogW1widC10aXRsZVwiXSxcbiAgICB9KVxuICApO1xuXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gY3JlYXRlRWxlbWVudCh7XG4gICAgdGFnOiBcImxhYmVsXCIsXG4gICAgdGV4dDogXCJEZXNjcmlwdGlvbjpcIixcbiAgfSk7XG5cbiAgZGVzY3JpcHRpb24uYXBwZW5kKFxuICAgIGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgdGFnOiBcInRleHRhcmVhXCIsXG4gICAgICBhdHRyOiB7XG4gICAgICAgIHJvd3M6IFwiNFwiLFxuICAgICAgICBuYW1lOiBcImRlc2NyaXB0aW9uXCIsXG4gICAgICB9LFxuICAgICAgY2xhc3NMaXN0OiBbXCJ0LWRlc2NyaXB0aW9uXCJdLFxuICAgIH0pXG4gICk7XG5cbiAgY29uc3QgcHJpb3JpdHkgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwibGFiZWxcIixcbiAgICBjbGFzc0xpc3Q6IFtcIm1cIl0sXG4gIH0pO1xuXG4gIHByaW9yaXR5LmlubmVySFRNTCA9IGBQcmlvcml0eTpcbiAgIDxpbnB1dCBpZD1cImxvd1wiIHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJwcmlvcml0eVwiIHZhbHVlPVwibG93XCIgY2hlY2tlZD5cbiAgIDxsYWJlbCBjbGFzcz1cInJcIiBmb3I9XCJsb3dcIj5Mb3c8L2xhYmVsPlxuICAgPGlucHV0IGlkPVwibWVkaXVtXCIgdHlwZT1cInJhZGlvXCIgbmFtZT1cInByaW9yaXR5XCIgdmFsdWU9XCJtZWRpdW1cIj5cbiAgIDxsYWJlbCBjbGFzcz1cInJcIiBmb3I9XCJtZWRpdW1cIj5NZWRpdW08L2xhYmVsPlxuICAgPGlucHV0IGlkPVwiaGlnaFwiIHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJwcmlvcml0eVwiIHZhbHVlPVwiaGlnaFwiPlxuICAgPGxhYmVsIGNsYXNzPVwiclwiIGZvcj1cImhpZ2hcIj5IaWdoPC9sYWJlbD5gO1xuXG4gIGNvbnN0IGR1ZURhdGUgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwibGFiZWxcIixcbiAgICB0ZXh0OiBcIkR1ZSBEYXRlOlwiLFxuICAgIGNsYXNzTGlzdDogW1wibVwiXSxcbiAgfSk7XG5cbiAgZHVlRGF0ZS5hcHBlbmQoXG4gICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICB0YWc6IFwiaW5wdXRcIixcbiAgICAgIGF0dHI6IHsgdHlwZTogXCJkYXRlXCIsIHJlcXVpcmVkOiBcIlwiLCBuYW1lOiBcImR1ZURhdGVcIiB9LFxuICAgIH0pXG4gICk7XG5cbiAgY29uc3QgZm9ybUNvbnRlbnQgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiZm9ybVwiLFxuICAgIGNsYXNzTGlzdDogW1widC1jb250ZW50XCJdLFxuICAgIGF0dHI6IHsgaWQ6IFwidGFzay1mb3JtXCIsIGFjdGlvbjogXCIgXCIsIG1ldGhvZDogXCJwb3N0XCIgfSxcbiAgfSk7XG5cbiAgZm9ybUNvbnRlbnQuYXBwZW5kKHRpdGxlLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHksIGR1ZURhdGUsIGJ1dHRvbnMpO1xuXG4gIHRhc2tGb3JtLmFwcGVuZChcbiAgICBjcmVhdGVFbGVtZW50KHtcbiAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgIHRleHQ6IFwiQ3JlYXRlIGEgbmV3IHRhc2s6XCIsXG4gICAgICBjbGFzc0xpc3Q6IFtcInQtZm9ybS1oZWFkaW5nXCJdLFxuICAgIH0pLFxuICAgIGZvcm1Db250ZW50XG4gICk7XG5cbiAgbGV0IG92ZXJsYXkgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiZGl2XCIsXG4gICAgY2xhc3NMaXN0OiBbXCJvdmVybGF5XCJdLFxuICB9KTtcblxuICBvdmVybGF5LmFwcGVuZCh0YXNrRm9ybSk7XG5cbiAgcmV0dXJuIG92ZXJsYXk7XG59O1xuXG5leHBvcnQgeyBwcm9qZWN0Rm9ybSwgdGFza0Zvcm0gfTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tIFwiLi9jcmVhdGVFbGVtZW50LmpzXCI7XG5pbXBvcnQgeyByZWZyZXNoRE9NIH0gZnJvbSBcIi4vcmVmcmVzaERPTS5qc1wiO1xuXG5jb25zdCBpbml0aWFsaXplUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWluZXJcIik7XG4gIGNvbnN0IGl0ZW1zID0gW1xuICAgIGNyZWF0ZU5hdmJhcigpLFxuICAgIGNyZWF0ZVNpZGViYXIoKSxcbiAgICBjcmVhdGVFbGVtZW50KHtcbiAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgIGNsYXNzTGlzdDogW1wibWFpbi1jb250YWluZXJcIl0sXG4gICAgfSksXG4gIF07XG4gIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaG9tZVwiKS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkhvbWVcIikgPT09IG51bGwpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkhvbWVcIiwgSlNPTi5zdHJpbmdpZnkoW10pKTtcbiAgfVxuXG4gIHJlZnJlc2hET00oXCJIb21lXCIpO1xufTtcblxuY29uc3QgY3JlYXRlTmF2YmFyID0gZnVuY3Rpb24gKCkge1xuICBsZXQgbmF2QmFyID0gY3JlYXRlRWxlbWVudCh7XG4gICAgdGFnOiBcImRpdlwiLFxuICAgIGNsYXNzTGlzdDogW1wibmF2LWJhclwiXSxcbiAgfSk7XG5cbiAgbmF2QmFyLmFwcGVuZChcbiAgICBjcmVhdGVFbGVtZW50KHtcbiAgICAgIHRhZzogXCJpXCIsXG4gICAgICBjbGFzc0xpc3Q6IFtcImZhXCIsIFwiZmEtdGFza3NcIiwgXCJmYS0zeFwiXSxcbiAgICAgIGF0dHI6IHtcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgIH0sXG4gICAgfSksXG4gICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICBjbGFzc0xpc3Q6IFtcIm5hdi1oZWFkaW5nXCJdLFxuICAgICAgdGV4dDogXCJUby1Eb1wiLFxuICAgIH0pLFxuICAgIGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgY2xhc3NMaXN0OiBbXCJuYXYtc2lkZVwiXSxcbiAgICAgIHRleHQ6IFwiVGFza3MgYW5kIE5vdGVzXCIsXG4gICAgfSlcbiAgKTtcblxuICByZXR1cm4gbmF2QmFyO1xufTtcblxuY29uc3QgY3JlYXRlU2lkZWJhciA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHNpZGVCYXIgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiZGl2XCIsXG4gICAgY2xhc3NMaXN0OiBbXCJzaWRlLWJhclwiXSxcbiAgfSk7XG5cbiAgc2lkZUJhci5hcHBlbmQoXG4gICAgY3JlYXRlU2lkZUl0ZW0oXCJob21lXCIsIFwiSG9tZVwiKSxcbiAgICBjcmVhdGVTaWRlSXRlbShcImJyaWVmY2FzZVwiLCBcIlByb2plY3RzXCIpXG4gICk7XG5cbiAgcmV0dXJuIHNpZGVCYXI7XG59O1xuXG5jb25zdCBjcmVhdGVTaWRlSXRlbSA9IGZ1bmN0aW9uIChpY29uLCB0ZXh0KSB7XG4gIGxldCBzaWRlSXRlbSA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgIHRhZzogXCJkaXZcIixcbiAgICBhdHRyOiB7XG4gICAgICBpZDogdGV4dC50b0xvd2VyQ2FzZSgpLFxuICAgIH0sXG4gICAgY2xhc3NMaXN0OiBbXCJzaWRlLWl0ZW1cIl0sXG4gIH0pO1xuXG4gIHNpZGVJdGVtLmFwcGVuZChcbiAgICBjcmVhdGVFbGVtZW50KHtcbiAgICAgIHRhZzogXCJpXCIsXG4gICAgICBjbGFzc0xpc3Q6IFtcImZhXCIsIGBmYS0ke2ljb259YF0sXG4gICAgICBhdHRyOiB7XG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgdGFnOiBcInNwYW5cIixcbiAgICAgIHRleHQ6IHRleHQsXG4gICAgfSlcbiAgKTtcblxuICBpZiAodGV4dCA9PT0gXCJQcm9qZWN0c1wiKSB7XG4gICAgbGV0IGRpdiA9IGNyZWF0ZUVsZW1lbnQoe1xuICAgICAgdGFnOiBcImRpdlwiLFxuICAgIH0pO1xuXG4gICAgZGl2LmFwcGVuZChcbiAgICAgIHNpZGVJdGVtLFxuICAgICAgY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgY2xhc3NMaXN0OiBbXCJwcm9qZWN0LWl0ZW1zXCJdLFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgcmV0dXJuIGRpdjtcbiAgfVxuXG4gIHJldHVybiBzaWRlSXRlbTtcbn07XG5cbmV4cG9ydCB7IGluaXRpYWxpemVQYWdlIH07XG4iLCJpbXBvcnQgeyBpbml0aWFsaXplUGFnZSB9IGZyb20gXCIuL21vZHVsZXMvaW5pdGlhbGl6ZVBhZ2UuanNcIjtcblxuaW5pdGlhbGl6ZVBhZ2UoKTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVFbGVtZW50Iiwib2JqIiwiZWxlbWVudCIsImRvY3VtZW50IiwidGFnIiwiYXR0ck9iaiIsImF0dHIiLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImVudHJpZXMiLCJzZXRBdHRyaWJ1dGUiLCJ1bmRlZmluZWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInRleHQiLCJyZWZyZXNoUHJvamVjdHMiLCJwcm9qZWN0cyIsImtleXMiLCJsb2NhbFN0b3JhZ2UiLCJyZXZlcnNlIiwicHJvamVjdEl0ZW1zIiwicXVlcnlTZWxlY3RvciIsInNlbGVjdGVkIiwiaWQiLCJpbm5lckhUTUwiLCJmb3JFYWNoIiwicHJvamVjdCIsInByb2plY3RJdGVtIiwicmVtb3ZlSWNvbiIsInByb2plY3ROYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJyZW1vdmVJdGVtIiwiYXBwZW5kIiwiYXBwZW5kQ2hpbGQiLCJjaGFuZ2VQYWdlIiwicXVlcnlTZWxlY3RvckFsbCIsImhvbWUiLCJpdGVtU2VsZWN0aW9uIiwiYmluZCIsIml0ZW0iLCJjb250YWluZXIiLCJidXR0b25zIiwiY2FuY2VsQnRuIiwicmVtb3ZlIiwicHJvamVjdEZvcm0iLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJvdmVybGF5IiwiYWRkUHJvamVjdCIsImxvYWRQYWdlIiwiaGFuZGxlRm9ybSIsIm5hbWUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwibGVuZ3RoIiwiYWxlcnQiLCJnZXRJdGVtIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYWluQ29udGFpbmVyIiwicGFnZSIsInBhcnNlIiwiaGVhZGVyIiwiaGVhZGluZyIsImJ1dHRvbiIsImNyZWF0ZU5ld1Rhc2siLCJsb2FkVGFza3MiLCJyZW1vdmVUYXNrcyIsImVsZW1lbnRzIiwidGFza3MiLCJ0YXNrc0hvbGRlciIsImNsYXNzIiwidGFzayIsInAiLCJwcmlvcml0eSIsImNvbG9yIiwidmlzaWJsZSIsInRpdGxlIiwiZHVlRGF0ZSIsImhpZGRlbiIsImRlc2NyaXB0aW9uIiwiZWRpdEJ0biIsImNyZWF0ZVRhc2tzIiwiY29sbGFwc2UiLCJidG4iLCJzcGxpY2UiLCJwYXJzZUludCIsInBhcmVudEVsZW1lbnQiLCJpIiwiY29sbCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ0aGlzIiwidG9nZ2xlIiwiY29udGVudCIsIm5leHRFbGVtZW50U2libGluZyIsInN0eWxlIiwiZGlzcGxheSIsImZvciIsInRhc2tGb3JtIiwicmVxdWlyZWQiLCJyb3dzIiwiZm9ybUNvbnRlbnQiLCJhY3Rpb24iLCJtZXRob2QiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiZnJvbUVudHJpZXMiLCJGb3JtRGF0YSIsInRhcmdldCIsInB1c2giLCJjcmVhdGVOYXZiYXIiLCJuYXZCYXIiLCJjcmVhdGVTaWRlYmFyIiwic2lkZUJhciIsImNyZWF0ZVNpZGVJdGVtIiwiaWNvbiIsInNpZGVJdGVtIiwidG9Mb3dlckNhc2UiLCJkaXYiLCJpbml0aWFsaXplUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=